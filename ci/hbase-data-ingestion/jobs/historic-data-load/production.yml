jobs:
  - name: historic-load-production
    max_in_flight: 1
    plan:
      - in_parallel:
        - put: meta
          resource: meta-production
        - get: aws-ingestion
          trigger: false
        - get: aws-internal-compute
          trigger: false
        - get: aws-dataworks-e2e-framework
          trigger: false
        - get: aws-snapshot-sender
          trigger: false
      - in_parallel:
          - .: (( inject meta.plan.terraform-output-ingest ))
          - .: (( inject meta.plan.terraform-output-internal-compute ))
          - .: (( inject meta.plan.terraform-output-snapshot-sender))
      - .: (( inject meta-hbase-data-ingestion.plan.run-data-import ))
        config:
          params:
            AWS_ACC: ((aws_account.production))
            AWS_ROLE_ARN: arn:aws:iam::((aws_account.production)):role/ci
            ACTION_TAG: "@admin-historic-data-load"
            DATA_LOAD_TOPICS: "db.accepted-data.address,db.accepted-data.alternativePaymentArrangement,db.accepted-data.apa,db.accepted-data.bankDetails,db.accepted-data.calculateDeductions,db.accepted-data.capital,db.accepted-data.carerCircumstances,db.accepted-data.carersAllowance,db.accepted-data.checkAutoCalcPendingData,db.accepted-data.childcare,db.accepted-data.childElementEligibility,db.accepted-data.childrenCircumstances,db.accepted-data.claimantIdentityVerification,db.accepted-data.claimantSpareRoomSubsidyEligibility,db.accepted-data.covid19ClaimSelectorLog,db.accepted-data.declarationOverrideInterval,db.accepted-data.depsAndNonDepsSpareRoomSubsidyEligibility,db.accepted-data.earningsData,db.accepted-data.educationCircumstances,db.accepted-data.employmentCircumstances,db.accepted-data.gender,db.accepted-data.gracePeriod,db.accepted-data.guardiansAllowance,db.accepted-data.healthAndDisabilityCircumstances,db.accepted-data.healthCircumstances,db.accepted-data.housingCircumstances,db.accepted-data.housingEntitlement,db.accepted-data.ineligiblePartner,db.accepted-data.languagePreference,db.accepted-data.moveToUcClaim,db.accepted-data.nationality,db.accepted-data.otherBenefit,db.accepted-data.otherIncome,db.accepted-data.overlappingBenefit,db.accepted-data.partnerQuestion,db.accepted-data.personDetails,db.accepted-data.pregnancy,db.accepted-data.previousAddress,db.accepted-data.previousEarnings,db.accepted-data.supportForMortgageInterest,db.accepted-data.terminalIllness,db.accepted-data.transitionalProtection,db.accepted-data.UpdateMongoLock_acceptedDataService,db.accepted-data.UpdateMongoLock_calculationProcess,db.accepted-data.UpdateMongoLock_calculator,db.accepted-data.workAndEarningsCircumstances,db.accepted-data.workCapabilityAssessmentDecision,db.advances.activeAdvanceProcess,db.advances.advanceDebtPosition,db.advances.advanceGroup,db.advances.advanceProcessInitialisationFailure,db.advances.pendingAdvanceData,db.advances.recoverableHardshipPayment,db.advances.UpdateMongoLock_advances,db.agent-access.authenticationRequest,db.agent-access.lastLogin,db.agent-access.UpdateMongoLock_agentAccessService,db.agent-core.additionalClaimantInformation,db.agent-core.agent,db.agent-core.agentAction,db.agent-core.agentFeedback,db.agent-core.agentGuidance,db.agent-core.agentGuidanceTracking,db.agent-core.agentToDo,db.agent-core.agentToDoImport,db.agent-core.agentWorkGroupAllocation,db.agent-core.awardModification,db.agent-core.caseLoadEvent,db.agent-core.claimantHistory,db.agent-core.claimantIdentityVerification,db.agent-core.claimantProfile,db.agent-core.controlMeasure,db.agent-core.covidAffectedToDo,db.agent-core.deferredConsiderClosingClaimDecision,db.agent-core.digimanData,db.agent-core.digimanDataArchive,db.agent-core.earlyStatement,db.agent-core.earlyStatementContractId,db.agent-core.entitlementReason,db.agent-core.featureConfiguration,db.agent-core.hmrcChildDataProvision,db.agent-core.interaction,db.agent-core.landlordPortalTenancy,db.agent-core.lastSavedPrepareCommitments,db.agent-core.manualOverride,db.agent-core.ninoCheck,db.agent-core.nonStandardHousingAssessment,db.agent-core.notifyCisCache,db.agent-core.otherBenefitAgentDeclaration,db.agent-core.pendingStatement,db.agent-core.persistedErrors,db.agent-core.rteInterestSet,db.agent-core.statementAndComparison,db.agent-core.stopTaxCreditNotice,db.agent-core.suspiciousCalculation,db.agent-core.systemWorkGroupAllocation,db.agent-core.team,db.agent-core.telephonyClaimApplication,db.agent-core.telephonyClaimApplicationTransition,db.agent-core.temporaryAccess,db.agent-core.UpdateMongoLock_agentCore,db.agent-core.verifyIdentityAssessment,db.agent-core.wizard,db.agent-core.workCapabilityAssessmentDeclaration,db.agent-core.workGroupAllocation,db.agent-core.workSituation,db.agent-core.youthObligationDetails,db.agent-session.session,db.agent-session.sessionTraceable,db.agent-session.traceable,db.agent-session.UpdateMongoLock_agentSession,db.appointments.agentsInTeam,db.appointments.agentTakenTime,db.appointments.agentThirdPartyReference,db.appointments.appointment,db.appointments.appointmentReminderJobMetadata,db.appointments.appointmentTypesByJobcentre,db.appointments.availability,db.appointments.blockedTime,db.appointments.blockedTimeSlot,db.appointments.deliveryUnitThirdPartyReference,db.appointments.featureConfiguration,db.appointments.firstCommitmentAppointmentsNotRequired,db.appointments.hrtAppointmentRequired,db.appointments.qflowEnabledJobcentre,db.appointments.reasonForRebooking,db.appointments.sentAppointmentReminder,db.appointments.UpdateMongoLock_appointments,db.attachments.attachments,db.attachments.attachmentsData,db.attachments.attachmentsMetadata,db.attachments.conversion-status,db.attachments.UpdateMongoLock_agentAttachment,db.authenticator.authenticationRequest,db.authenticator.cyiClaimantRequest,db.authenticator.cyiLoginToken,db.authenticator.managementInformation,db.authenticator.UpdateMongoLock_authenticator,db.calculation-process.checkAutoCalcPendingData,db.calculation-process.covid19PrepaymentBypassLog,db.calculation-process.UpdateMongoLock_calculationProcess,db.calculator.calculation,db.calculator.calculationParts,db.calculator.calculatorClaim,db.calculator.configuration,db.calculator.earlyEstimatedCalculationParts,db.calculator.estimatedCalculation,db.calculator.estimatedCalculationArchive,db.calculator.estimatedCalculationParts,db.calculator.rtiFeed,db.calculator.summary,db.calculator.supportMortgageInterestEligibilityDetails,db.calculator.UpdateMongoLock_calculator,db.children-core.childrenVerifiedCircumstancesConversation,db.children-core.UpdateMongoLock_childrenCore,db.claimant-advances.advanceDebtPosition,db.claimant-advances.advanceDetails,db.claimant-advances.advanceGroup,db.claimant-advances.advanceProcessInitialisationFailure,db.claimant-advances.eligibilityCheckResponse,db.claimant-advances.pendingAdvanceData,db.claimant-advances.recoverableHardshipPayment,db.claimant-advances.UpdateMongoLock_claimantAdvances,db.claimant-communication.pendingNotification,db.claimant-communication.stagedNotification,db.claimant-communication.trackedNotification,db.claimant-communication.UpdateMongoLock_claimantCommunicationService,db.claimant-history.claimHistoryEntry,db.claimant-history.pinnedNote,db.claimant-history.properties,db.claimant-history.resolvedProperties,db.claimant-history.UpdateMongoLock_claimantHistory,db.claimant-session.session,db.claimant-session.sessionTraceable,db.claimant-session.traceable,db.claimant-session.UpdateMongoLock_claimantSession,db.claimant-tfa-sms.accessCodeThrottle,db.claimant-tfa-sms.accessCodeVerification,db.claimant-tfa-sms.emailAccessCodeThrottle,db.claimant-tfa-sms.emailAccessCodeVerification,db.claimant-tfa-sms.mobileNumberValidationThrottle,db.claimant-tfa-sms.tfaEmailUser,db.claimant-tfa-sms.tfaLastSuccessfulAttempt,db.claimant-tfa-sms.tfaSmsUser,db.claimant-tfa-sms.UpdateMongoLock_claimantTfaSms,db.cold-weather-payments-core.coldWeatherPayment,db.cold-weather-payments-core.triggerHistory,db.cold-weather-payments-core.UpdateMongoLock_coldWeatherPaymentsCore,db.core.addressDeclaration,db.core.assessmentPeriod,db.core.bankDetailsDeclaration,db.core.bookedEvidenceOrPsnAppointment,db.core.carerDeclaration,db.core.carerTimeOff,db.core.caringDeclaration,db.core.childcareDeclaration,db.core.childDeclaration,db.core.claimant,db.core.claimantAccessType,db.core.claimantAttachmentUpload,db.core.claimantCommitment,db.core.claimantLanguagePreference,db.core.claimantNotification,db.core.claimantUploadDetails,db.core.claimantVerifyIdentity,db.core.conditionalityNotificationMetadata,db.core.contract,db.core-copy.addressDeclaration,db.core-copy.assessmentPeriod,db.core-copy.bankDetailsDeclaration,db.core-copy.carerDeclaration,db.core-copy.caringDeclaration,db.core-copy.childDeclaration,db.core-copy.claimant,db.core-copy.claimantCommitment,db.core-copy.contract,db.core-copy.declaration,db.core-copy.educationDeclaration,db.core-copy.emailVerificationToken,db.core-copy.healthAndDisabilityDeclaration,db.core-copy.healthDeclaration,db.core-copy.housingDeclaration,db.core-copy.jounal,db.core-copy.login,db.core-copy.nationalityDeclaration,db.core-copy.otherIncomeDeclaration,db.core-copy.partialDisclosure,db.core-copy.periodOfSickness,db.core-copy.personalDetails,db.core-copy.registrationTokenAllocation,db.core-copy.relationshipDeclaration,db.core-copy.savingsAndInvestmentDeclaration,db.core-copy.statement,db.core-copy.toDo,db.core-copy.urlVisit,db.core-copy.wizard,db.core-copy.workAndEarningsDeclaration,db.core-copy.workGroupAllocation,db.core.covid19ClaimSelectorLog,db.core.covidAffected,db.core.declaration,db.core.declarationOverrideInterval,db.core.deliveryUnitAddress,db.core.disclosure,db.core.disclosureData,db.core.earlyStatement,db.core.educationDeclaration,db.core.emailToClaimantMap,db.core.emailVerificationToken,db.core.expectedEvidenceDocuments,db.core.genie,db.core.healthAndDisabilityDeclaration,db.core.healthDeclaration,db.core.housingDeclaration,db.core.idempotentNotificationMongoDocument,db.core.journal,db.core.languagePreferenceDeclaration,db.core.login,db.core.nationalityDeclaration,db.core.onlyOnceMongoDocument,db.core.organisation,db.core.otherIncomeDeclaration,db.core.partialDisclosure,db.core.partnerQuestionDeclaration,db.core.periodOfSickness,db.core.personalDetails,db.core.pinChallenge,db.core.pregnancyDeclaration,db.core.previousAddressDeclaration,db.core.proveYourIdentityTrial,db.core.registrationTokenAllocation,db.core.relationshipDeclaration,db.core.reportSelfEmploymentEarningsFeedback,db.core.savingsAndInvestmentDeclaration,db.core.srsRentChanges,db.core.statement,db.core.supportMortgageInterestEligibilityDetails,db.core.supportMortgageInterestLoanAccepted,db.core.survey,db.core.tfaAccountRecoveryAttempt,db.core.toDo,db.core.trialGroupParameters,db.core.trialParticipant,db.core.trialPhase,db.core.UpdateMongoLock_core,db.core.urlVisit,db.core.wizard,db.core.workAndEarningsDeclaration,db.core.workGroupAllocation,db.core.workSituationToDoCreated,db.corporate-appointees-core.accountVerification,db.corporate-appointees-core.claimantCorporateAppointee,db.corporate-appointees-core.corporateAppointeeBody,db.corporate-appointees-core.corporateAppointeeBodyAddress,db.corporate-appointees-core.corporateAppointeeBodyBankDetails,db.corporate-appointees-core.corporateAppointeeUserAccount,db.corporate-appointees-core.genie,db.corporate-appointees-core.UpdateMongoLock_corporateAppointeesCore,db.corporate-appointees-tfa-sms.accessCodeThrottle,db.corporate-appointees-tfa-sms.accessCodeVerification,db.corporate-appointees-tfa-sms.emailAccessCodeThrottle,db.corporate-appointees-tfa-sms.emailAccessCodeVerification,db.corporate-appointees-tfa-sms.tfaEmailUser,db.corporate-appointees-tfa-sms.tfaLastSuccessfulAttempt,db.corporate-appointees-tfa-sms.tfaSmsUser,db.corporate-appointees-tfa-sms.UpdateMongoLock_corporateAppointeesTfaSms,db.crypto.attachmentMetaData,db.crypto.encryptedData,db.crypto.encryptedFileMetaData,db.crypto.failedMigrationEncryptedData,db.crypto.holdingEncryptedData,db.crypto.holdingMigrated,db.crypto.saltData,db.crypto.temp,db.crypto.UpdateMongoLock_cryptoCore,db.crypto.UpdateMongoLock_cryptoOps,db.data-acceptance.pendingAuthorisationCache,db.data-acceptance.UpdateMongoLock_dataAcceptanceService,db.data-archiving.archiveRecord,db.data-archiving.onGoingInterest,db.data-archiving.UpdateMongoLock_dataArchivingCore,db.deductions.calculatedDeductions,db.deductions.covid19DeductionsBypassLog,db.deductions.debtControlSheet,db.deductions.debtControlSheetToDoData,db.deductions.debtInterest,db.deductions.debtPosition,db.deductions.deductionsStatus,db.deductions.deductionsStatusRequired,db.deductions.estimatedDeductions,db.deductions.financialHardshipStatus,db.deductions.insolvencyOrder,db.deductions.manualDeductionsCalculationData,db.deductions-process.manualDeductionsCalculationData,db.deductions-process.notifyThirdPartyDeductionToDoData,db.deductions-process.UpdateMongoLock_deductionsProcess,db.deductions.thirdPartyDeduction,db.deductions.thirdPartyDeductionPriority,db.deductions.UpdateMongoLock_deductions,db.feature-toggles.featureToggles,db.hrt-entitlement.entitlementReason,db.hrt-entitlement.UpdateMongoLock_hrtEntitlement,db.identity.claimantIdentity,db.identity.identityVerificationDetails,db.identity.invalidUsernameIdentity,db.identity.UpdateMongoLock_identity,db.jms-manager.destinationStatistics,db.jms-manager.failedMessage,db.laid-postcode-lookup.UpdateMongoLock_laidPostcodeLookupCore,db.landlord-tfa-sms.accessCodeThrottle,db.landlord-tfa-sms.accessCodeVerification,db.landlord-tfa-sms.emailAccessCodeThrottle,db.landlord-tfa-sms.emailAccessCodeVerification,db.landlord-tfa-sms.tfaEmailUser,db.landlord-tfa-sms.tfaLastSuccessfulAttempt,db.landlord-tfa-sms.tfaSmsUser,db.landlord-tfa-sms.UpdateMongoLock_landlordTfaSms,db.matchingService.localUserMatchingData,db.matchingService.managementInformation,db.matchingService.matchingServiceRequests,db.matchingService.UpdateMongoLock_matchingService,db.matchingService.userAssociation,db.move-to-uc-core.moveToUc,db.move-to-uc-core.moveToUcRequest,db.move-to-uc-core.UpdateMongoLock_moveToUcCore,db.organisation.deliveryUnitAddress,db.organisation.organisation,db.overpayments.overpayment,db.overpayments.UpdateMongoLock_overpayments,db.payments-processing.cpsPaymentFileRecord,db.payments-processing.fasterPaymentStatus,db.payments-processing.payment,db.payments-processing.paymentIC114827Backup,db.payments-processing.paymentKeys,db.payments-processing.paymentReference,db.payments-processing.srsLandlordBankDetails,db.payments-processing.UpdateMongoLock_paymentsCore,db.payments-process.manualAdvancePayment,db.payments-process.manualAwardPayment,db.payments-process.UpdateMongoLock_paymentsProcess,db.penalties-and-deductions.debtPosition,db.penalties-and-deductions.fraudPenalty,db.penalties-and-deductions.fraudPenaltyProgress,db.penalties-and-deductions.outOfClaimDays,db.penalties-and-deductions.sanction,db.penalties-and-deductions.sanctionEscalation,db.penalties-and-deductions.sanctionProgress,db.penalties-and-deductions.sanctionTerminationDecision,db.penalties-and-deductions.UpdateMongoLock_penaltiesAndDeductions,db.personal-details.claimant,db.personal-details.UpdateMongoLock_personalDetails,db.prepayment-check.prepaymentCheckFailure,db.property-address-lookup.landlordAddress,db.property-address-lookup.propertyAddress,db.property-address-lookup.propertyAddressListUpdate,db.property-address-lookup.UpdateMongoLock_propertyAddressLookupCore,db.quartz.claimantEvent,db.quartz.contractEvent,db.quartz.delayedMessage,db.quartz.jobStatus,db.quartz.quartz,db.quartz.quartz_calendars,db.quartz.quartz_jobs,db.quartz.quartz_locks,db.quartz.quartz_paused_trigger_groups,db.quartz.quartz_schedulers,db.quartz.quartz_triggers,db.quartz.UpdateMongoLock_quartz,db.risk-data-service.bankAccountTransactionData,db.risk-data-service.childcareTransactionData,db.risk-data-service.nationalCostsRuleReferenceData,db.risk-data-service.transactionResults,db.risk-data-service.UpdateMongoLock_riskDataService,db.rti-interest.extractJob,db.rti-interest.extractSeqNo,db.rti-interest.interestPerson,db.self-employment-claimant-core.selfEmploymentLoss,db.self-employment-claimant-core.UpdateMongoLock_selfEmploymentClaimantCore,db.sessionConfidence.accessList,db.session-confidence.ipAddressConfidence,db.sessionConfidence.requiredAuthorisationEscalation,db.session-confidence.storedPassword,db.sessionConfidence.storedPassword,db.sessionConfidence.threatLevel,db.sessionConfidence.untrustedIdentity,db.sessionConfidence.UpdateMongoLock_sessionConfidence,db.sessionConfidence.watchList,db.sessionConfidence.watchListMatches,db.session.session,db.session.sessionTraceable,db.session.traceable,db.support-portal.actionedPayments,db.support-portal.agentPrivileges,db.support-portal.agentSupportRoles,db.support-portal.failedKafkaMessages,db.support-portal.historicRteData,db.support-portal.historicRteEarnings,db.support-portal.rolePrivileges,db.support-portal.UpdateMongoLock_supportCore,db.system-core.confirmBenefitsDetailsToDoTimestamp,db.system-core.endOfAssessmentPeriodProcessStatus,db.system-core.ladsNotificationDetail,db.system-core.otherBenefitRelatedAction,db.system-core.otherBenefitsNotificationTimestamp,db.system-core.UpdateMongoLock_systemCore,db.team-core.agentAssignment,db.team-core.claimantStats,db.team-core.contractStats,db.team-core.recalculateAgentStats,db.team-core.teamMemberStats,db.team-core.UpdateMongoLock_teamCore,db.test-aws.testCollection,db.third-parties-integration.UpdateMongoLock_thirdPartiesIntegration,db.third-parties.notificationSettings,db.third-parties.thirdParty,db.third-parties.thirdPartyCreditor,db.third-parties.UpdateMongoLock_thirdParties,db.third-party-authentication.accountVerification,db.third-party-authentication.authentication,db.third-party-authentication.tfaDisabledLandlord,db.third-party-authentication.UpdateMongoLock_thirdPartyAuthentication,db.third-party-authentication.wizard,db.third-party-landlord.apaPayment,db.third-party-landlord.bulkRentChangeRequest,db.third-party-landlord.landlordToDo,db.third-party-landlord.landlordToDoLock,db.third-party-landlord.nonLandlordApaRequest,db.third-party-landlord.tenancyAgreement,db.third-party-landlord.UpdateMongoLock_thirdPartyLandlord,db.third-party-landlord.wizard,db.third-party-session.session,db.third-party-session.sessionTraceable,db.third-party-session.traceable,db.third-party-session.UpdateMongoLock_thirdPartySession,db.third-party-users.provideTenancyDetailsRequest,db.third-party-users.thirdPartyUser,db.third-party-users.UpdateMongoLock_thirdPartyUsers,db.third-party-users.wizard,db.token.emailVerificationToken,db.token.registrationTokenAllocation,db.token.UpdateMongoLock_token,db.transaction-metadata.corporateAppointeesTfaSmsTransactionMetadata,db.transaction-metadata.landlordTfaSmsTransactionMetadata,db.transaction-metadata.thirdPartyAuthenticationTransactionMetadata,db.transaction-metadata.thirdPartyLandlordTransactionMetadata,db.transaction-metadata.thirdPartyUsersTransactionMetadata,db.transaction-metadata.UpdateMongoLock_corporateAppointeesTfaSms,db.transaction-metadata.UpdateMongoLock_landlordTfaSms,db.transaction-metadata.UpdateMongoLock_thirdParties,db.transaction-metadata.UpdateMongoLock_thirdPartyAuthentication,db.transaction-metadata.UpdateMongoLock_thirdPartyLandlord,db.transaction-metadata.UpdateMongoLock_thirdPartyUsers,db.work-capability-assessment.claimantEligibilityDetails,db.work-capability-assessment.UpdateMongoLock_workCapabilityAssessment,db.work-search-core.job,db.work-search-core.UpdateMongoLock_workSearchCore"
            DATA_LOAD_METADATA_STORE_TABLE: "ucfs"
            DATA_LOAD_S3_SUFFIX: "adb/2020-08-11,calcdb/2020-08-11,cdb/2020-08-11,claimdb/2020-08-12,pdb/2020-08-11,sdb/2020-08-11"
